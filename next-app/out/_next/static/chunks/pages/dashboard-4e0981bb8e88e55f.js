(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{6257:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(7371)}])},7371:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ei}});var s=n(1527),i=n(1488),r=n(1149),a=n(2121),o=n(2107),l=n(286),c=n(33),$=n(8273),d=n(7633),x=n.n(d),u=n(9072),m=n(7836),f=n(9782),h=n(1950),p=n(669),j=n(4030),_=n(8109),v=n(959),g=n(9970),y=n(4875),N=n.n(y),b=n(828),w=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,b.m)(N().apply(void 0,(0,g.Z)(t)))},k=n(5713),E=n.n(k),S=n(859),C=n(5049),L=n(290),R=n(8747),T=n(2522);function M(e){var t,n=e.todo,i=e.index,o=(0,u.Z)((0,T.s)({accept:"*"}),2),c=o[0],$=o[1],d=$.filesContent,x=$.loading,g=(0,v.useState)({checked:!1,timestamp:0}),y=g[0],N=g[1],b=(0,v.useState)(!1),k=b[0],M=b[1],O=(0,v.useState)(!1),P=O[0],Z=O[1],V=(0,v.useState)(0),z=V[0],A=V[1],F=_.L.use.deleteTodo(),B=(0,v.useState)(!1),D=B[0],H=B[1],I=_.L.use.updateScores(),q=_.L.use.fetchScore(),U=_.L.use.scores();return(0,v.useEffect)(function(){P&&setTimeout(function(){q(),F(n.id)},500)},[P,F,n.id,I,U.blood]),E()(function(){if(y.checked){var e=Date.now()-y.timestamp;e-500<3e3?A(e):(M(!0),setTimeout(function(){Z(!0)},2e3))}}),(0,s.jsxs)(S.E.div,{initial:{opacity:1},animate:P?{opacity:0,marginTop:-10}:{},transition:{duration:.5,delay:i},children:[(0,s.jsxs)(m.u_,{isOpen:D,onClose:function(){H(!1)},children:[(0,s.jsx)(m.ZA,{}),(0,s.jsxs)(m.hz,{children:[(0,s.jsx)(m.xB,{children:"Upload Photo"}),(0,s.jsx)(m.ol,{}),(0,s.jsxs)(m.fe,{children:[(0,s.jsx)("div",{className:"text-md pr-2 -mt-2",children:"Please upload a photo of your latest blood report:"}),x?(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)(f.$,{})," Uploading file..."]}):(0,s.jsxs)("div",{className:"flex flex-row gap-2 mt-4",children:[(0,s.jsx)(r.II,{className:w("flex-1 cursor-default pointer-events-none",void 0!==d[0]?"italic":""),placeholder:"Please upload a file...",readOnly:!0,value:null===(t=d[0])||void 0===t?void 0:t.name}),(0,s.jsx)(a.zx,{className:"px-4",onClick:function(){c()},children:"Upload File"})]})]}),(0,s.jsx)(m.mz,{className:"mr-auto",children:(0,s.jsx)(a.zx,{disabled:void 0===d[0],colorScheme:"green",mr:3,onClick:function(){H(!1),N({checked:!0,timestamp:Date.now()-1e4})},children:"Upload"})})]})]}),(0,s.jsxs)(l.xu,{rounded:"3xl",px:5,py:3,borderWidth:"1.5px",className:w("flex flex-row gap-4 items-center transition-colors relative",y.checked?"bg-[rgb(250,251,255)]":""),shadow:"md",children:[k&&(0,s.jsxs)("div",{className:"flex flex-row items-center gap-4 text-gray-500 p-4 absolute top-1/2 -translate-y-1/2 left-[0px] right-[30px]",children:[(0,s.jsx)(f.$,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[n.photoRequired&&(0,s.jsxs)("span",{children:["Task completed! ",(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDF89"})]}),(0,s.jsx)("div",{className:"text-sm",children:"Recalculating health scores..."})]})]}),!n.photoRequired&&(0,s.jsx)(h.XZ,{className:k?"invisible":"visible",checked:y.checked,onChange:function(e){N({checked:e.target.checked,timestamp:Date.now()})}}),n.photoRequired&&!k&&(0,s.jsx)("button",{className:"border rounded-lg p-2 border-gray-300 hover:bg-gray-100 transition-colors",onClick:function(){H(!0)},children:(0,s.jsx)(R.UKH,{size:20})}),(0,s.jsxs)("div",{className:"relative max-w-4xl",children:[(0,s.jsxs)(S.E.div,{className:w("absolute -translate-y-1/2 top-1/2 flex flex-col items-start flex-1 h-full gap-0.5 w-full p-1",y.checked||k?"pointer-events-none":"pointer-events-auto"),animate:y.checked||k?{opacity:0,left:-5}:{},transition:n.photoRequired?{delay:0,duration:0}:{delay:y.checked?0:.5,duration:y.checked?.5:.2},children:[(0,s.jsx)("span",{className:"font-medium text-sm",children:n.title}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)("div",{className:"mt-0.5",children:(0,s.jsx)(p.Vp,{size:"md",style:{background:(0,C.o)(n.tag)[0]},borderRadius:"full",children:(0,s.jsx)(p.Sn,{className:"text-white",children:n.tag})})})]}),(0,s.jsx)("div",{className:w("relative",k?"invisible":"visible"),children:(0,s.jsx)(S.E.div,{className:w(y.checked?"pointer-events-auto":"pointer-events-none"),initial:{opacity:0,marginLeft:-5},animate:y.checked?{opacity:1,marginLeft:0}:{},transition:{delay:y.checked?.5:0,duration:y.checked?.2:.5},children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"font-medium flex flex-row items-center gap-2",children:["Task completed! ",(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDF89"})]}),(0,s.jsxs)("div",{className:"mb-2 text-gray-500",children:["Made a mistake? You have ",(0,s.jsxs)("span",{className:"font-bold",children:[Math.ceil(3-(z-500)/1e3),"s"]})," to undo the completion."]}),(0,s.jsx)(j.Ex,{value:(z-500)/3e3*100,rounded:"md",height:"7px"})]})})})]}),(0,s.jsx)(l.xu,{className:"rounded-sm flex flex-col items-center justify-center self-center min-h-[2rem] min-w-[2rem] cursor-pointer hover:bg-gray-100 transition-colors",borderWidth:1,shadow:"md",children:(0,s.jsx)(L.ZIz,{})})]})]})}function O(){var e=_.L.use.todos();return(0,s.jsxs)(S.E.div,{className:"pr-5",children:[(0,s.jsx)("div",{className:"text-xl font-bold mt-[1.5rem] mb-3",children:"Personal Recommendations"}),(0,s.jsx)("div",{className:"flex flex-row gap-5",children:e.map(function(e,t){return(0,s.jsx)(S.E.div,{initial:{opacity:0,marginTop:-10},animate:{opacity:1,marginTop:0},transition:{duration:.5,delay:t/5},children:(0,s.jsx)(M,{index:t,todo:e})},e.id)})})]})}function P(){return(0,s.jsx)(O,{})}var Z=n(343),V=n(8493),z=[{title:"Morning Sunlight",description:"Try to get direct sunlight for at least 15 mins within the first hour of waking up."},{title:"Morning Water",description:"Drink 8 ounces of water as the first liquid you consume in the morning"},{title:"Morning Protein",description:"Aim to achieve the ideal amount of 30g of protein at breakfast, as opposed to a carb-heavy one."},];function A(){return(0,s.jsxs)("div",{className:"flex-1 mr-5",children:[(0,s.jsx)("div",{className:"font-bold text-xl mt-6 mb-2",children:"General Health Tips"}),(0,s.jsx)("div",{className:"flex flex-col gap-4 items-stretch",children:z.map(function(e,t){return(0,s.jsxs)(S.E.div,{initial:{opacity:0,right:-10},animate:{opacity:1,right:0},transition:{duration:.5,delay:t/5},className:"relative flex flex-col gap-4 flex-1 rounded-2xl shadow-md p-5 border",children:[(0,s.jsx)("div",{className:"font-medium",children:e.title}),(0,s.jsx)("div",{className:"text-gray-700 text-sm",children:e.description}),(0,s.jsxs)("div",{className:"cursor-pointer hover:text-[#E338F9aa] flex flex-row text-sm items-center text-[#E338F9] gap-1",children:["Read More ",(0,s.jsx)(i.fmn,{size:8})]})]},t)})})]})}var F=n(4594),B=n(8434),D=n(7227),H=n(3897),I=n(7196),q=n(7171),U=[{date:"2022-09-14",blood:62,environment:80,exercise:75,nutrition:84,sleep:71},{date:"2022-09-15",blood:64,environment:83,exercise:82,nutrition:86,sleep:75},{date:"2022-09-16",blood:66,environment:81,exercise:84,nutrition:92,sleep:79},{date:"2022-09-17",blood:68,environment:82,exercise:85,nutrition:91,sleep:90}],K=function(){return(0,s.jsxs)(l.xu,{className:"mt-5",children:[(0,s.jsx)("div",{className:"text-xl font-bold mt-[0.21rem] mb-3",children:"Health History"}),(0,s.jsxs)(F.w,{width:600,height:300,data:U,margin:{top:20,right:30,left:20,bottom:10},children:[(0,s.jsx)(B.q,{strokeDasharray:"3 3"}),(0,s.jsx)(D.K,{dataKey:"name"}),(0,s.jsx)(H.B,{domain:["dataMin - 1","dataMax + 1"]}),(0,s.jsx)(I.D,{}),(0,s.jsx)(q.x,{type:"monotone",dataKey:"blood",stroke:(0,C.o)(C.V.blood)[0]}),(0,s.jsx)(q.x,{type:"monotone",dataKey:"exercise",stroke:(0,C.o)(C.V.exercise)[0]}),(0,s.jsx)(q.x,{type:"monotone",dataKey:"nutrition",stroke:(0,C.o)(C.V.nutrition)[0]}),(0,s.jsx)(q.x,{type:"monotone",dataKey:"environment",stroke:(0,C.o)(C.V.environment)[0]}),(0,s.jsx)(q.x,{type:"monotone",dataKey:"sleep",stroke:(0,C.o)(C.V.sleep)[0]})]})]})},Q=n(5768),W=[{name:"Hydroxyruea",description:"Take before sleeping"},{name:"Jakafi",description:"Take twice a day with breakfast and dinner"}];function G(){return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-bold text-xl mt-4 mb-2",children:"Medications"}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:W.map(function(e,t){return(0,s.jsxs)(S.E.div,{className:"flex flex-row gap-3",initial:{opacity:0,marginLeft:-10},animate:{opacity:1,marginLeft:0},transition:{duration:.5,delay:t/5},children:[(0,s.jsx)(c.qE,{bgColor:"#FF8C0055",icon:(0,s.jsx)(Q.gEA,{color:"#FF8C00"}),className:"w-[15px] h-[15px]"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"flex flex-row",children:(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.description})})]})]},t)})})]})}var X=n(1203),Y=n.n(X),J=function(){var e=_.L.use.searchQuery(),t=_.L.use.setSearchQuery();return(0,s.jsxs)(r.BZ,{children:[(0,s.jsx)(r.Z8,{pointerEvents:"none",children:(0,s.jsx)($.jRj,{color:"gray.300"})}),(0,s.jsx)(r.II,{type:"text",variant:"filled",placeholder:"Search",borderRadius:15,value:e,onChange:function(e){return t(e.target.value)}})]})},ee=function(){return(0,s.jsx)("div",{className:"min-w-[300px] flex self-stretch flex-col bg-[rgb(249,245,239)] items-stretch p-4",children:(0,s.jsxs)(S.E.div,{initial:{opacity:0,marginLeft:"-10px"},animate:{marginLeft:0,opacity:1},transition:{duration:.5},className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-2xl flex flex-row items-center gap-2 mb-4 from-[#E338F9] to-[#FEC93A] bg-clip-text bg-gradient-to-r text-transparent font-bold text-3xl px-4 self-center",children:"What the Health"}),(0,s.jsx)(es,{})]})})},et=function(){return(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("div",{className:"w-[23rem] mr-3",children:(0,s.jsx)(J,{})}),(0,s.jsx)(a.zx,{rounded:"full",className:"w-5 h-5",p:0,children:(0,s.jsx)(Z.gor,{size:20})}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)(a.zx,{rounded:"full",w:10,h:10,p:0,className:"mr-2",children:(0,s.jsx)(V.Lfi,{size:20})}),(0,s.jsxs)(o.v2,{children:[(0,s.jsx)(o.j2,{px:3,py:1,rounded:"md",_hover:{backgroundColor:"gray.100"},children:(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsx)(l.xu,{className:"bg-gradient-to-r from-[rgb(238,167,93,0.5)] to-[rgb(238,167,93)] rounded-full flex flex-row items-center justify-center",w:10,h:10,children:(0,s.jsx)(l.xu,{className:"bg-white rounded-full flex flex-row items-center justify-center",h:9,w:9,children:(0,s.jsx)(c.qE,{src:"/user.png",w:8,h:8})})}),(0,s.jsx)("div",{className:"text-sm font-medium",children:"Umesh Maini"}),(0,s.jsx)(i.IAR,{size:10})]})}),(0,s.jsx)(o.qy,{children:(0,s.jsx)(o.sN,{children:(0,s.jsx)(Y(),{href:"/login",children:(0,s.jsx)("a",{className:"text-red-400",children:"Logout"})})})})]})]})},en=function(){var e=_.L.use.searchQuery();return""!==e&&("health diagnostics".includes(e.toLowerCase()),"recommendations".includes(e.toLowerCase())),(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsx)(et,{}),(0,s.jsx)(P,{}),(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(K,{}),(0,s.jsx)(G,{})]}),(0,s.jsx)(A,{})]})]})})},es=x()(function(){return Promise.all([n.e(798),n.e(124)]).then(n.bind(n,8124))},{loadableGenerated:{webpack:function(){return[8124]}},ssr:!1}),ei=function(){return(0,s.jsxs)("div",{className:"flex flex-row flex-1 h-full w-full min-w-[1368px] min-h-screen",children:[(0,s.jsx)(ee,{}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(en,{})})]})}},8109:function(e,t,n){"use strict";n.d(t,{L:function(){return x}});var s=n(7135),i=n(7389),r=n(2006),a=n(9072),o=n(4254),l=n(6964),c=n(5049),$=n(2562),d={"PM2.5":11,PM10:16,NO:0,NO2:0,Nox:0,NH3:0,CO:0,SO2:88,O3:33,Benzene:5,Toluene:2.3,Xylene:0,AQI:16,TotalSteps:1e4,TotalDistance:8,Calories:450,hematocrit:{male:45.5,female:42},RBC:{male:5.4,female:4.8},MCH:{male:29,female:29},MCV:{male:30.5,female:29.5},RDW:{male:13.5,female:13.5},Leucocyte:{male:7.2,female:7.2},Platelets:{male:240,female:240},Neutrophils:{male:50,female:50},Basophils:{male:.75,female:.75},Lymphocyte:{male:20,female:20},Creatinine:{male:1,female:1.1},"Blood potassium":{male:4.4,female:4.4},"Blood sodium":{male:140,female:140},Chloride:{male:102.5,female:102.5},CALORIES:2250,CARBOHYDRATES:275,FAT:61,PROTEIN:112.5,SODIUM:2300,SUGAR:125,HOURS_OF_SLEEP:8,REM_SLEEP:.225,DEEP_SLEEP:.18,HEART_RATE_BELOW_RESTING:.58},x=function(e){var t=e;t.use={};var n=!0,s=!1,i=void 0;try{for(var r,a=Object.keys(t.getState())[Symbol.iterator]();!(n=(r=a.next()).done);n=!0)!function(){var e=r.value;t.use[e]=function(){return t(function(t){return t[e]})}}()}catch(o){s=!0,i=o}finally{try{n||null==a.return||a.return()}finally{if(s)throw i}}return t}((0,l.ZP)(function(e,t){var n;return{searchQuery:"",scores:(n={},(0,i.Z)(n,c.V.blood,68),(0,i.Z)(n,c.V.environment,82),(0,i.Z)(n,c.V.exercise,85),(0,i.Z)(n,c.V.nutrition,91),(0,i.Z)(n,c.V.sleep,90),n),getOverallScore:function(){var e=t();return Math.round((e.scores.environment+e.scores.exercise+e.scores.nutrition+e.scores.sleep+e.scores.blood)/5)},top3Metrics:[],todos:[{id:1,tag:c.V.blood,title:"Focus on decreasing your Hemoglobin level from 172 g/L down between 129 â†’ 165 g/L",photoRequired:!0},{id:2,tag:c.V.sleep,title:"Aim to increase your percentage of sleep that is REM from 17% to 22.5%."},{id:3,tag:c.V.nutrition,title:"Limit your daily sodium intake from 2456mg down to 2300mg."}],setSearchQuery:function(t){return e({searchQuery:t})},deleteTodo:function(t){e(function(e){return{todos:e.todos.filter(function(e){return e.id!==t})}})},updateScores:function(t){var n=t.blood,s=t.environment,i=t.exercise,a=t.nutrition,o=t.sleep;e(function(e){return{scores:(0,r.Z)({},e.scores,i&&{exercise:i},a&&{nutrition:a},n&&{blood:n},s&&{environment:s},o&&{sleep:o})}})},fetchScore:function(){return(0,s.Z)(function(){var t,n,s,i,r,l,c,x,u,m,f,h,p,j;return(0,o.__generator)(this,function(o){switch(o.label){case 0:t="http://localhost:3000/ai-health-engine?",n=[],s=!0,i=!1,r=void 0;try{for(l=Object.entries(d)[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)if(u=(x=(0,a.Z)(c.value,2))[0],m=x[1],"number"==typeof m)n.push("".concat(u,"=").concat(m));else if("object"==typeof m&&"male"in m)n.push("".concat(u,"=").concat(m.male));else throw Error("Unexpected value type: ".concat(m))}catch(_){i=!0,r=_}finally{try{s||null==l.return||l.return()}finally{if(i)throw r}}return t+=n.join("&"),[4,(0,$.ZP)(t)];case 1:return[4,(f=o.sent()).json()];case 2:return p=(h=o.sent()).SCORES,j=h.TOP_3_METRICS,e(function(){return{scores:p,top3Metrics:j}}),[2,h]}})})()}}}))},5049:function(e,t,n){"use strict";var s,i;function r(e){switch(e){case s.blood:return["#ff0000aa","#ff0000"];case s.environment:return["#252525aa","#252525"];case s.exercise:return["#00008Baa","#00008B"];case s.nutrition:return["#006400aa","#006400"];case s.sleep:return["#6a0dadaa","#6a0dad"];default:throw Error("Tag ".concat(e," not found."))}}n.d(t,{V:function(){return s},o:function(){return r}}),(i=s||(s={})).blood="blood",i.environment="environment",i.exercise="exercise",i.nutrition="nutrition",i.sleep="sleep"}},function(e){e.O(0,[733,649,875,27,572,379,448,240,292,774,888,179],function(){return e(e.s=6257)}),_N_E=e.O()}]);